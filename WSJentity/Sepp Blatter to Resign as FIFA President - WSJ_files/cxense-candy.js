function initializeCxense(){cxCandyObj.initialized||(cxdj.initialized=!0,cX.callQueue.push(["invoke",function(){cxdj.run()}]))}var cxCandyObj={version:"2015-04-13 02",initialized:!1,userId:null,meta:{hasAd:"u"},sites:{"www.wsj.com":"9222318613852486900","online.wsj.com":"9222318613852486900","live.wsj.com":"9222325317970618875","www.marketwatch.com":"9222325317970825873","marketwatch.com":"9222325317970825873","online.barrons.com":"9222325317970825875","trkcxuevt.wsj.com":"9222334397379502889","www.wsj.de":"9222335528567651907","wsj.de":"9222335528567651907","cn.wsj.com":"9222335528567651934","www.wsj.com.tr":"9222335528567651935","wsj.com.tr":"9222335528567651935","br.wsj.com":"9222335528567651936","jp.wsj.com":"9222335528673021906","kr.wsj.com":"9222335528673021931","indo.wsj.com":"9222335528673021932","store.wsj.com":"9222368254458574875","onboarding.cxpublic.com":"9222363238898586877"},initialize:function(){cX.addEventListener(window,"message",cxdj.renderCallback),cxdj.meta=cxdj.readPageContext()},reportEvent:function(e,t){var c=null,i="9222318613852486900";if(e&&e.length&&0===e.indexOf("https://store.wsj.com"))cX.initializePage(),i=cxdj.sites["store.wsj.com"];else{var n=window.location.hostname;n&&cxdj.sites[n]&&(i=cxdj.sites[n])}cX.setSiteId(i),cX.setCustomParameters(cxdj.meta),t&&cX.setCustomParameters(t),e&&e.length&&(c={location:e}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent(c)},reportFunnelEvent:function(e){var t="default";e.eventType&&(t=e.eventType),cxdj.reportEvent("https://store.wsj.com/"+t,e)},getDisplayDiv:function(e){if("n"===cxdj.meta.hasAd){var t=$(e);if(1===t.length&&0===t.children().length)return t}return null},showCandyBar:function(){var e=cxdj.getDisplayDiv("#cx-candybar");e&&(e.css({position:"fixed",bottom:0,width:"100%","z-index":8e3,display:"none"}),cX.callQueue.push(["insertWidget",{appendToElementId:"cx-candybar",width:"100%",height:0,renderTemplateUrl:"http://cdn.cxpublic.com/wsj-candybar-article.html",meta:cX.JSON.stringify(cxdj.meta)}]))},showCandyBarHP:function(){var e=cxdj.getDisplayDiv("#cx-candybarhp");e&&(e.css({position:"fixed",bottom:0,width:"100%","z-index":8e3,display:"none"}),cX.callQueue.push(["insertWidget",{appendToElementId:"cx-candybarhp",width:"100%",height:0,renderTemplateUrl:"http://cdn.cxpublic.com/wsj-candybar-hp.html",meta:cX.JSON.stringify(cxdj.meta)}]))},showSnippet:function(){var e=cxdj.getDisplayDiv("#cx-snippetad");e&&(e.html('<div id="cx-snippet-inner"></div>'),cX.callQueue.push(["insertWidget",{appendToElementId:"cx-snippet-inner",width:700,height:530,renderTemplateUrl:"http://cdn.cxpublic.com/wsj-snippet.html",meta:cX.JSON.stringify(cxdj.meta)}]))},registerScrollExpansion:function(e,t,c){var i=!1;$(window).bind("scroll dynamicScroll",function(){var n=$(document).height()-$(window).height(),a=$(window).scrollTop(),r=n*t,s=n*c;a>=r&&s>=a&&!i?(i=!0,$(e+" iframe").height(150)):(r>a||a>s)&&i&&(i=!1,$(e+" iframe").height(149))}).trigger("dynamicScroll")},renderCallback:function(e){if(e&&e.data&&"string"==typeof e.data&&cX&&cX.decodeUrlEncodedNameValuePairs){var t=cX.decodeUrlEncodedNameValuePairs(e.data),c="#cx-candybar";switch("hp"===t.type&&(c="#cx-candybarhp"),t.method){case"cxCandyResize":$.isNumeric(t.contentHeight)&&$(c+" iframe").height(t.contentHeight),("100%"===t.contentWidth||$.isNumeric(t.contentWidth))&&$(c+" iframe").width(t.contentWidth);break;case"cxCandyShow":$(c).css({display:"block"});break;case"cxCandyHide":$(c).css({display:"none"}),$(c+"iframe").height(0)}}},readPageContext:function(){var e={};e.hasAd="n",($("#RollOutAd970x66").length>0||$("#AD_PUSH").children().length>0)&&(e.hasAd="y");try{var t=cX.library.parseUrlArgs();t.mod&&(e.navSource=t.mod),t.trackCode&&(e.trackCode=t.trackCode);try{var c=window.devicePixelRatio&&window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches;e.retina=c?"y":"n"}catch(i){e.retina="u"}for(var n=document.getElementsByTagName("meta"),a=0;a<n.length;a++){var r=n[a].content.replace(/ /g,"");switch(n[a].name){case"article.template":e.template=r;break;case"article.access":e.access=r;break;case"user.type":"nonsubscriber"===r?e.subscriber=r:"freeRegister"===r?e.subscriber="registered":"subscriber"===r?e.subscriber=r:["memsubyes"].indexOf(r)>-1?e.subscriber="subscriber":"regyes"==r?e.subscriber="registered":(e.subscriber="default",e.extra1=r);break;case"section":e.section=r;break;case"article.section":e.section=r}}var d=cX.library.getCookie("wsjregion")||"na,us",o=d.indexOf("reset");d=-1===o?d:d.slice(0,o-1),e.edition=d.replace(/,/g,"");var l="undefined"==typeof s?{}:s;if(e.subscriber||(e.subscriber="default",l.prop27&&("WSJ_sub_yes"===l.prop27?e.subscriber="subscriber":"WSJ_reg_yes"===l.prop27&&(e.subscriber="registered"))),"string"==typeof l.eVar3&&s.eVar3.length>5)try{cxdj.userId=""+CryptoJS.MD5(l.eVar3)}catch(i){}}catch(i){}return e},run:function(){cxdj.initialize(),"undefined"==typeof cxDisplayAdOverride&&(cxdj.showCandyBarHP(),cxdj.showCandyBar(),cxdj.showSnippet()),cxdj.reportEvent(null)}},cxdj=cxdj||cxCandyObj;!function(){try{var e=document.createElement("script");e.type="text/javascript",e.async="async",e.src="https:"==document.location.protocol?"https://scdn.cxense.com/cx.js":"http://cdn.cxense.com/cx.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}catch(c){}}(),function(){try{var e=document.createElement("script");e.type="text/javascript",e.async="sync",e.src="https:"==document.location.protocol?"https://a248.e.akamai.net/f/248/67675/6h/s2.wsj.net/static_html_files/md5.js":"http://s.wsj.net/static_html_files/md5.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}catch(c){}}();var cX=cX||{};cX.callQueue=cX.callQueue||[],initializeCxense();